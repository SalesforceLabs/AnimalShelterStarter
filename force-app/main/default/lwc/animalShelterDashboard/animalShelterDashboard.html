 <!-- Animal Shelters Dashboard -->
<template>
    <lightning-card title="Animal Shelter Dashboard" icon-name="standard:dashboard_component">
        <!-- Setup Up Dropdown Box-->
        <lightning-combobox 
            name="siteSelector" 
            label="Select a Site" 
            value={selectedSite} 
            placeholder="Choose a Site"
            options={siteOptions}
            onchange={handleSiteChange}></lightning-combobox>

            <div class="slds-var-m-bottom_small"></div>
        <!-- Display each Unit as a Box --> 
        <template if:true={locations}>
            <div class="slds-grid slds-wrap">
                <template for:each={locations} for:item="loc">
                    <div key={loc.location.id} class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3 slds-large-size_1-of-4 slds-var-p-horizontal_small">
                        <div class="record-box slds-box slds-theme_default slds-theme_shade slds-var-p-around_small slds-var-m-bottom_small">
                            <h3>{loc.location.animalshelters__Parent_Block_Name__c} - {loc.location.animalshelters__Name__c}</h3>

                            <!-- Display each Animal -->
                            <template if:true={loc.animals}>
                                <template for:each={loc.animals} for:item="animal">
                                    <div key={animal.animal.Id} class="slds-box slds-theme_default slds-var-p-around_medium">
                                        <p><strong>{animal.animal.animalshelters__Animal_Name__c}</strong></p>
                                        <div class="slds-border_top"></div>
                                        <p>Status: <strong>{animal.animal.animalshelters__Animal_Status__c}</strong></p>
                                        <p>Type/Species: <strong>{animal.animal.animalshelters__TypeFromBreeds__c}/{animal.animal.animalshelters__Species__c}</strong></p>
                                        <p>Colour: <strong>{animal.animal.animalshelters__Colour__c}</strong></p>
                                        <div class="slds-grid slds-gutters_x-small">
                                            <template if:true={animal.hasConditions}>
                                                <div class="slds-col">
                                                    <span class="badge badge-condition">Condition</span>
                                                </div>
                                            </template>
                                            <template for:each={animal.upcomingActions} for:item="action">
                                                <div key={action.Id} class="slds-col">
                                                    <span class={action.badgeClass}>{action.RecordType.Name}</span>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </template>
                            </template>
                        </div>
                    </div>
                </template>
            </div>
        </template>
        <template if:true={error}>
            No Data Found
        </template>
    </lightning-card>
</template>